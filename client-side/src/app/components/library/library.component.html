<!--
<div>
    <mat-slide-toggle [(ngModel)]="multi">Allow Multi Expansion</mat-slide-toggle>
  </div>
  <p>Accordion Actions <sup>('Multi Expansion' mode only)</sup></p>
  <div>
    <button mat-button (click)="accordion.openAll()" [disabled]="!multi">Expand All</button>
    <button mat-button (click)="accordion.closeAll()" [disabled]="!multi">Collapse All</button>
  </div>
-->

<div>
  <mat-toolbar color="primary" class="mat-elevation-z8">
    {{library.name}}
  </mat-toolbar>
  <br>
</div>
<mat-card class="center" *ngIf="this.isPending">
    <div class="center">
      <span>
        <button mat-button (click)="this.makeLibraryPublic(library.libraryId)" routerLink="/admin/pending-library-list"> Approve
          <mat-icon class="success">check_circle_outline</mat-icon>
        </button>
      </span>
      <button mat-button (click)="this.makeLibraryPrivate(library.libraryId)" routerLink="/admin/pending-library-list"> Deny
        <mat-icon color="warn">highlight_off</mat-icon>
      </button>
    </div>
  </mat-card>

<div class="entrapment">
  <mat-accordion class="headers-align mat-elevation-z8 libraryTable">
    <mat-expansion-panel *ngFor="let question of library.questions; let i = index" [attr.data-index]="i" [expanded]="step === i + 1"
       hideToggle="true"><!--(opened)="setStep(i + 1)"-->
      <mat-expansion-panel-header [collapsedHeight]="customCollapsedHeight">
        <mat-panel-title class="shrinkMe">
          Question {{i + 1}}
        </mat-panel-title>
        <mat-panel-description>
          {{question.value}}
        </mat-panel-description>
      </mat-expansion-panel-header>

      <mat-list role="list">
        <p>

          <mat-list-item *ngFor="let answer of question.answers; let j = index" [attr.data-index]="i">
            <span class="attempt-icon">
              <mat-icon *ngIf="answer.isCorrect" class="icon-correct">check_box</mat-icon>
            </span>

            <span>{{answer.value}}</span>
          </mat-list-item>
        </p>
      </mat-list>

      <mat-action-row>
        <button mat-button color="primary" (click)="openDialog(question)">Edit</button>
        <button mat-button color="primary" (click)="deleteQuestion(i)">Delete</button>
      </mat-action-row>
    </mat-expansion-panel>
  </mat-accordion>
</div>

  <!-- <mat-card class="center" *ngIf="this.isPending">
    <div class="center">
      <span>
        <button mat-button routerLink="/admin/pending-library-list"> Approve
          <mat-icon class="success">check_circle_outline</mat-icon>
        </button>
      </span>
      <button mat-button routerLink="/admin/pending-library-list"> Deny
        <mat-icon color="warn">highlight_off</mat-icon>
      </button>
    </div>
  </mat-card> -->

    <div *ngIf="!this.isPending" (click)="addNewQuestion">
            <mat-action-row>
        <button mat-button color="primary" (click)="addNewQuestion()">Add new question</button>
         <button mat-button color="primary" *ngIf = "this.isPrivate == 'true'"(click)="this.submitForApproval(library.libraryId)">Submit For Approval</button>
      </mat-action-row>
    </div>

